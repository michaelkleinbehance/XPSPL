<link href="style.css" type="text/css" rel="stylesheet" />
<h1>
    Engine
</h1>
<p>
    The engine object serves the main purpose of maintaining signal queues and
    ensuring I/O data conforms to prggmr specifications, it also provides functionality to
    run a daemon mode and contains shortcut calls to managing Queue, Signal and Subscription objects.
</p>
<p>
    Lives in the <span>prggmr</span> namespace.
</p>
<h3>
    Constants
</h3>
<ul>
    <li>
        <span>RUNNING</span> engine is in a running state.
    </li>
    <li>
        <span>DAEMON</span> engine is in daemon mode.
    </li>
    <li>
        <span>SHUTDOWN</span> engine has been shutdown. This does not indicate an error.
    </li>
    <li>
        <span>ERROR</span> engine has encountered an error.
    </li>
</ul>
<h3 id="engine.__construct">
    __construct()
</h3>
<p>
    Object constructor takes no parameters 
</p>
<p>
    Internally readies the engine by empting all storages and setting the engines
    state to <span>RUNNING</span>
</p>
<h4>Example</h4>
<div class="code">
<pre>
$engine = new \prggmr\Engine();
</pre>
</div>
<h3 id="engine.subscribe">
    subscribe(signal, subscription, [identifier, priority, chain, exhaust])
</h3>
<p>
    Creates a subscription to the given signal.
</p>
<p>
    Returns the <a href="subscription.html#object">subscription</a> object sent to the queue.
</p>
<h4>Parameters</h4>
<ul>
    <li>
        The event signal. Refer to <a href="signal.html">signals</a> for more info.
    </li>
    <li>
        An anoymous function, a <a href="subscription.html#object">Subscription</a> object or a php callable. Refer to <a href="subscription.html">subscriptions</a> for more info.
    </li>
    <li>
        A string used for later identifing the subscription, if not provided a random integer will be generated, and so the ability to identify this subscription.
    </li>
    <li>
        Integer in ASC order which determains the firing order in queue.
    </li>
    <li>
        Signal to chain once this subscription completes. Refer to <a href="chains.html#subscriber">chains</a> for more info.
    </li>
    <li>
        The number of times this subscription will fire before being dumped. Defaults to 0 (infinte).
    </li>
</ul>
<h4>
    Exceptions
</h4>
<ul>
    <li>
        InvalidArgumentException
    </li>
</ul>
<h4>Example</h4>
<div class="code">
<pre>
$engine = new \prggmr\Engine();
// subscribe to the "hello.world" event
$engine->subscribe("hello.world", function($event){
    echo "HelloWorld";
});
</pre>
</div>
<h3 id="docpage.item">
    dequeue(signal, subscriber)
</h3>
<p>
    Removes a subscriber from an event signal. 
</p>
<h4>Parameters</h4>
<ul>
    <li>
        The signal that the subscriber is listening on.
    </li>
    <li>
        Subscriber to remove.
    </li>
</ul>
<h4>Example</h4>
<div class="code">
<pre>
// Some example code
</pre>
</div>