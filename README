prggmr is an event processing engine for PHP 5.4. designed to be lightweight, 
fast and very simple to use.

## Usage

### Global Instance

    <?php

    prggmr\handle(function(){
        echo "The light is green go!";
    }, 'light.green');

    prggmr\handle(function(){
        echo "The light is red stop!";
    }, 'light.red');

    prggmr\handle(function(){
        echo "The light is yellow go faster!";
    } 'light.yellow');

    prggmr\signal('light.green');
    prggmr\signal('light.yellow');
    prggmr\signal('light.red');

### Engine instance

    $engine = new prggmr\Engine();

    $engine->handle(function(){
        echo "The light is green go!";
    }, 'light.green');

    $engine->handle(function(){
        echo "The light is red stop!";
    }, 'light.red');

    $engine->handle(function(){
        echo "The light is yellow go faster!";
    } 'light.yellow');

    $engine->signal('light.green');
    $engine->signal('light.yellow');
    $engine->signal('light.red');

## Installation

Depending on your needs prggmr can be installed using two different methods.

### Composer

Include the following in your ```composer.json``` file.

    {
        "require": {
            "prggmr/prggmr": "1.*.*"
        }
    }

Run the installer.

    php composer.phar install

And include the library

    require_once 'vendor/prggmr/prggmr/src/prggmr.php';

### Global system installation

This method will install prggmr to your php include path.

Download the latest release and navigate a terminal to the extract directory.

    # cd into the prggmr library so you see the README, LICENSE etc..
    cd path/to/prggmr/extraction
    # Get include path
    php -r "echo get_include_path();"
    # My output .:/usr/local/lib/php
    # Copy prggmr to lib
    sudo cp -Rf * /usr/local/lib/php/prggmr/*
    # Copy bin
    sudo ln -ls /usr/local/lib/php/prggmr/bin/prggmr /usr/bin/
    # Test
    prggmr -v
    # Result
    prggmr version 0.3.1.1

## Documentation

Documentation is available at [prggmr.org](http://www.prggmr.org)

## Mailing List

The prggmr mailing list is located here [mailing list](https://groups.google.com/forum/?fromgroups#!forum/prggmr).

## Versions

prggmr uses [semver](http://semver.org) you should too.

## Signals Roadmap

The following signals are on the development roadmap.

### CRON

CRON based time signals based on http://docs.oracle.com/cd/E14592_01/doc.10142/e14611/cron_expressions.htm

#### Example

    // every 15 minutes
    prggmr\handle(function(){
    }, new prggmr\signal\time\Cron('*/15 * * * *'));

    // 23:00:00 every weekday night
    prggmr\handle(function(){
    } new prggmr\signal\time\Cron('0 23 ? * MON-FRI'));

    // 10:15 everyday
    prggmr\handle(function(){
    }, new prggmr\signal\time\Cron('0 15 10 * * ?'));

### Event Stream Server

W3C Event-Stream (Specs)[http://dev.w3.org/html5/eventsource/].

#### Example

    $socket = new \prggmr\signal\http\EventStream();

    handle(function($bytes){
        // do something
    }, $socket->read());

    handle(function($bytes){
        // do something
    }, $socket->write());

### Non-Blocking Asynchronous Signal I/O

This will allow for non-blocking event driven I/O using file descriptors or 
networking socktes.

#### Example
    
    <?php

    $socket = new \prggmr\signal\io\Socket('127.0.0.1', 8888);

    handle(function($bytes){
        echo "Read bytes";
        echo $bytes;
    }, $socket->read(1024));

    handle(function($bytes){
        echo "Writing bytes";
        echo $bytes;
    }, $socket->write());

    handle(function($client){
        echo "Client connected";
        echo $client->ip_address;
    }, $socket->connect());

    handle(function($client){
        echo "Client disconnected";
        echo $client->ip_address;
    }, $socket->disconnect());

Or something like that ...